[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "11130826",
    "section": "",
    "text": "Recently, I went to push a large website to GitHub pages as an interim step to finalizing it. Deploying websites is more time-consuming than I would like so only a portion of the website was deployed. The site relies on some java script libraries. I’d run into GitHub’s large file size error before but managed to push through it. This time, however, proved to be trickier. This time the files were part of a larger quarto project. This post describes the interaction between quarto, git, gitHub, and large files."
  },
  {
    "objectID": "index.html#quarto",
    "href": "index.html#quarto",
    "title": "11130826",
    "section": "Quarto",
    "text": "Quarto\nThe quarto documentation is always a helpful place to start. They describe how to deploy a website using three methods. The first method was the only one that I’d ever tried and it worked great. With that option, you have the quarto website publish to a /docs folder and then finish setting it up in the settings portion of GitHub. For a large site, this seemed really cumbersome a different option was appealing. The second options is referred to as the “Publish Command”. The site is deployed on the gh-pages branch. The three steps are (1) set the gh-pages as the source branch, (2) add output to the .gitignore file, (3) publish the site. (More on this below.)\n\ngh-pages branch\nUse the following commands to set up the gh-pages branch, but only if you’ve not already done it in the settings of the remote GitHub settings page.\n\ngit checkout --orphan gh-pages\ngit reset --hard # make sure all changes are committed before running this!\ngit commit --allow-empty -m \"Initialising gh-pages branch\"\ngit push origin gh-pages\n\n\n\nAdd output to .gitignore\n\n/.quarto/\n/_site/\n_freeze/ # I also added the _freeze folder\n\nIf you’ve indavertently added the _site folder to the repository, you can remove it with the following command. _site is the default output directory in quarto.\n\ngit rm -r _site\n\n\n\nPublish the site\nIn the terminal run:\n\nquarto publish gh-pages"
  },
  {
    "objectID": "index.html#large-files",
    "href": "index.html#large-files",
    "title": "11130826",
    "section": "Large Files",
    "text": "Large Files\nThe key challenge was to add a file that exceeded GitHub’s large file cap of 100 MB. A large file was created in R and saved as an .rds file. The file was then added to the repository. A large matrix was created and saved. The file size was 1.1518372^{8}.\n\ndm &lt;- matrix(rnorm(1.5e7), ncol = 1e3)\ndf &lt;- data.frame(dm)\nsaveRDS(df, \"./large_file.rds\")\n\n\ndf &lt;- readRDS(\"./large_file.rds\")\ndf[1:5, 1:5]\n\n           X1          X2         X3          X4         X5\n1  1.24422159  0.18619263  0.1488976 -1.95532714  0.2603075\n2  0.09994832  0.49036459  0.4025449  0.05760036  0.8449014\n3  0.75747896 -0.08910382  1.7491633  0.18381634 -0.2767644\n4 -0.66235624 -0.40351456  1.5103832 -0.64200337 -0.2012356\n5 -0.24244787 -0.77881084 -2.4243276  1.39992316 -1.7548573\n\n\n\nknitr::include_graphics(\"./error_large_file.png\")"
  },
  {
    "objectID": "index.html#install-lfs",
    "href": "index.html#install-lfs",
    "title": "11130826",
    "section": "Install LFS",
    "text": "Install LFS\n\nknitr::include_graphics(\"./install_lfs.png\")\n\n\n\n\n\n\n\n\n\ngit lfs track \"large_file.rds\"\n\n\nknitr::include_graphics(\"./track_lfs_file.png\")\n\n\n\n\n\n\n\n\nShow new .gitattributes file\n\nknitr::include_graphics(\"./new_gitattributes_file.png\")\n\n\n\n\n\n\n\n\nAdded\n\nlarge_file.rds filter=lfs diff=lfs merge=lfs -text\n\nAdd the .gitattributes file with\n\ngit add .gitattributes"
  },
  {
    "objectID": "index.html#caching",
    "href": "index.html#caching",
    "title": "11130826",
    "section": "Caching",
    "text": "Caching\nSo you’ll keep getting errors unless you remove the files from the cache. See SO question: Git error, need to remove large file\n\ngit rm --cached giant_file\ngit commit --amend -CHEAD\n\n#or\n\ngit filter-branch -f --tree-filter 'rm -f /path/to/file' HEAD --all"
  },
  {
    "objectID": "index.html#helpful-links",
    "href": "index.html#helpful-links",
    "title": "11130826",
    "section": "Helpful Links",
    "text": "Helpful Links\n\nPublishing Github Pages\ngit still shows files as modified after adding to .gitignore\n_freeze Note that freeze controls whether execution occurs during global project renders."
  }
]